# Logora

ä¸€ä¸ªåŸºäº React + TypeScript çš„æœ¬åœ° Markdown ç¬”è®°ç®¡ç†åº”ç”¨ï¼Œç±»ä¼¼äº Obsidianï¼Œä½¿ç”¨ BlockNote ç¼–è¾‘å™¨æä¾›å¯Œæ–‡æœ¬ç¼–è¾‘åŠŸèƒ½ã€‚

![OneNote BlackNote](https://img.shields.io/badge/React-19.1.1-blue)
![TypeScript](https://img.shields.io/badge/TypeScript-5.8.3-blue)
![BlockNote](https://img.shields.io/badge/BlockNote-0.39.1-purple)
![License](https://img.shields.io/badge/License-MIT-green)

## âœ¨ ç‰¹æ€§

### ğŸ“ å¯Œæ–‡æœ¬ç¼–è¾‘
- åŸºäº BlockNote çš„ç°ä»£åŒ–ç¼–è¾‘å™¨
- æ”¯æŒä»£ç å—è¯­æ³•é«˜äº®ï¼ˆä½¿ç”¨ Shikiï¼‰
- å®æ—¶è‡ªåŠ¨ä¿å­˜
- å›¾ç‰‡ä¸Šä¼ å’Œç®¡ç†
- å—çº§ç¼–è¾‘åŠŸèƒ½

### ğŸ“ æ–‡ä»¶ç®¡ç†
- æœ¬åœ° JSON æ–‡ä»¶å­˜å‚¨
- æ–‡ä»¶å¤¹å±‚çº§ç»“æ„
- æ–‡ä»¶å’Œæ–‡ä»¶å¤¹çš„åˆ›å»ºã€é‡å‘½åã€åˆ é™¤
- æ‹–æ‹½æ’åºæ”¯æŒ

### ğŸ” æœç´¢åŠŸèƒ½
- å…¨æ–‡æœç´¢ç´¢å¼•
- å®æ—¶æœç´¢ç»“æœ
- æœç´¢ç»“æœé«˜äº®
- æ”¯æŒæ–‡ä»¶å¤¹å†…æœç´¢

### ğŸ¨ ç”¨æˆ·ç•Œé¢
- ç°ä»£åŒ–è®¾è®¡
- å“åº”å¼å¸ƒå±€
- æ·±è‰²/æµ…è‰²ä¸»é¢˜åˆ‡æ¢ï¼ˆè®¡åˆ’ä¸­ï¼‰
- ä¾§è¾¹æ æ–‡ä»¶å¤¹æ ‘å½¢è§†å›¾

### ğŸ“¤ å¯¼å…¥å¯¼å‡º
- Markdown æ–‡ä»¶å¯¼å…¥
- æ— æŸ Markdown å¯¼å‡º
- æ‰¹é‡å¯¼å‡ºåŠŸèƒ½
- æ–‡ä»¶å¤¹ç»“æ„ä¿æŒ

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- Node.js >= 18.0.0
- npm >= 9.0.0

### å®‰è£…

```bash
# å…‹éš†é¡¹ç›®
git clone https://github.com/haiyang-dev/logora.git
cd logora

# å®‰è£…ä¾èµ–
npm install

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev
```

åº”ç”¨å°†åœ¨ä»¥ä¸‹åœ°å€å¯åŠ¨ï¼š
- å‰ç«¯ï¼šhttp://localhost:5173
- åç«¯ï¼šhttp://localhost:3001

### ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²

```bash
# æ„å»ºé¡¹ç›®
npm run build

# å¯åŠ¨ç”Ÿäº§æœåŠ¡å™¨
npm run server:prod
```

## ğŸ“– ä½¿ç”¨æŒ‡å—

### åˆ›å»ºç¬”è®°

1. ç‚¹å‡»ä¾§è¾¹æ çš„ "+" æŒ‰é’®
2. é€‰æ‹©"æ–°å»ºç¬”è®°"
3. è¾“å…¥ç¬”è®°æ ‡é¢˜
4. å¼€å§‹ç¼–è¾‘å†…å®¹

### æ–‡ä»¶å¤¹ç®¡ç†

1. å³é”®ç‚¹å‡»ä¾§è¾¹æ ç©ºç™½å¤„
2. é€‰æ‹©"æ–°å»ºæ–‡ä»¶å¤¹"
3. è¾“å…¥æ–‡ä»¶å¤¹åç§°
4. æ‹–æ‹½ç¬”è®°åˆ°æ–‡ä»¶å¤¹ä¸­

### æœç´¢ç¬”è®°

1. ç‚¹å‡»æœç´¢æ¡†
2. è¾“å…¥å…³é”®è¯
3. æŸ¥çœ‹å®æ—¶æœç´¢ç»“æœ
4. ç‚¹å‡»ç»“æœè·³è½¬åˆ°å¯¹åº”ç¬”è®°

### å¯¼å…¥ Markdown

1. ç‚¹å‡»èœå•ä¸­çš„"å¯¼å…¥"
2. é€‰æ‹© Markdown æ–‡ä»¶æˆ–æ–‡ä»¶å¤¹
3. ç¡®è®¤å¯¼å…¥è®¾ç½®
4. æŸ¥çœ‹å¯¼å…¥çš„ç¬”è®°

### å¯¼å‡ºç¬”è®°

1. ç‚¹å‡»èœå•ä¸­çš„"å¯¼å‡º"
2. é€‰æ‹©å¯¼å‡ºèŒƒå›´
3. é€‰æ‹©å¯¼å‡ºä½ç½®
4. ç­‰å¾…å¯¼å‡ºå®Œæˆ

## ğŸ› ï¸ å¼€å‘

### é¡¹ç›®ç»“æ„

```
logora/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ components/          # React ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ Editor.tsx      # ç¼–è¾‘å™¨ç»„ä»¶
â”‚   â”‚   â””â”€â”€ Sidebar.tsx     # ä¾§è¾¹æ ç»„ä»¶
â”‚   â”œâ”€â”€ config/             # é…ç½®æ–‡ä»¶
â”‚   â”‚   â”œâ”€â”€ constants.ts    # å¸¸é‡é…ç½®
â”‚   â”‚   â”œâ”€â”€ server.ts       # æœåŠ¡å™¨é…ç½®
â”‚   â”‚   â”œâ”€â”€ vite.ts         # Vite é…ç½®
â”‚   â”‚   â””â”€â”€ development.ts  # å¼€å‘é…ç½®
â”‚   â”œâ”€â”€ context/            # React Context
â”‚   â”‚   â”œâ”€â”€ AppContext.tsx  # åº”ç”¨çŠ¶æ€ç®¡ç†
â”‚   â”‚   â””â”€â”€ EditorContext.tsx # ç¼–è¾‘å™¨çŠ¶æ€
â”‚   â”œâ”€â”€ server/             # åç«¯æœåŠ¡å™¨
â”‚   â”‚   â”œâ”€â”€ index.ts        # Express æœåŠ¡å™¨
â”‚   â”‚   â””â”€â”€ search.ts       # æœç´¢å¼•æ“
â”‚   â”œâ”€â”€ shared/             # å…±äº«ä»£ç 
â”‚   â”‚   â””â”€â”€ schema.ts       # BlockNote é…ç½®
â”‚   â”œâ”€â”€ types/              # TypeScript ç±»å‹
â”‚   â”‚   â””â”€â”€ index.ts        # ç±»å‹å®šä¹‰
â”‚   â”œâ”€â”€ utils/              # å·¥å…·å‡½æ•°
â”‚   â”‚   â”œâ”€â”€ exportMarkdown.ts    # Markdown å¯¼å‡º
â”‚   â”‚   â”œâ”€â”€ importMarkdown.ts    # Markdown å¯¼å…¥
â”‚   â”‚   â”œâ”€â”€ fileSystem.ts        # æ–‡ä»¶ç³»ç»Ÿæ“ä½œ
â”‚   â”‚   â”œâ”€â”€ imageUpload.ts       # å›¾ç‰‡ä¸Šä¼ 
â”‚   â”‚   â”œâ”€â”€ progressAlert.ts     # é€šçŸ¥ç³»ç»Ÿ
â”‚   â”‚   â””â”€â”€ storage.ts           # æœ¬åœ°å­˜å‚¨
â”‚   â””â”€â”€ App.tsx              # ä¸»åº”ç”¨ç»„ä»¶
â”œâ”€â”€ workspace/              # ç¬”è®°å­˜å‚¨ç›®å½•
â”œâ”€â”€ public/                 # é™æ€èµ„æº
â”œâ”€â”€ package.json            # é¡¹ç›®é…ç½®
â”œâ”€â”€ vite.config.ts          # Vite é…ç½®
â”œâ”€â”€ tsconfig.json           # TypeScript é…ç½®
â””â”€â”€ README.md              # é¡¹ç›®è¯´æ˜
```

### å¯ç”¨è„šæœ¬

```bash
# å¼€å‘
npm run dev          # å¯åŠ¨å¼€å‘æœåŠ¡å™¨ï¼ˆå‰ç«¯ + åç«¯ï¼‰
npm run server       # ä»…å¯åŠ¨åç«¯å¼€å‘æœåŠ¡å™¨
npm run server:prod  # å¯åŠ¨åç«¯ç”Ÿäº§æœåŠ¡å™¨

# æ„å»º
npm run build        # æ„å»ºç”Ÿäº§ç‰ˆæœ¬
npm run preview      # é¢„è§ˆç”Ÿäº§æ„å»º

# ä»£ç è´¨é‡
npm run lint         # ä»£ç æ£€æŸ¥
```

### æŠ€æœ¯æ ˆ

#### å‰ç«¯
- **React 19** - ç”¨æˆ·ç•Œé¢æ¡†æ¶
- **TypeScript** - ç±»å‹å®‰å…¨
- **Vite** - æ„å»ºå·¥å…·
- **BlockNote** - å¯Œæ–‡æœ¬ç¼–è¾‘å™¨
- **Shiki** - è¯­æ³•é«˜äº®
- **Tailwind CSS** - æ ·å¼æ¡†æ¶

#### åç«¯
- **Express.js** - Web æœåŠ¡å™¨
- **TypeScript** - ç±»å‹å®‰å…¨
- **Multer** - æ–‡ä»¶ä¸Šä¼ å¤„ç†
- **Node.js** - è¿è¡Œæ—¶ç¯å¢ƒ

#### å¼€å‘å·¥å…·
- **ESLint** - ä»£ç æ£€æŸ¥
- **Nodemon** - å¼€å‘æœåŠ¡å™¨çƒ­é‡è½½
- **Concurrently** - å¹¶å‘è¿è¡Œè„šæœ¬

### API æ¥å£

#### ç¬”è®°ç®¡ç†
- `GET /api/notes` - è·å–æ‰€æœ‰ç¬”è®°
- `GET /api/notes/:filePath` - è·å–å•ä¸ªç¬”è®°å†…å®¹
- `POST /api/notes/:filePath` - ä¿å­˜ç¬”è®°å†…å®¹
- `POST /api/notes/rename` - é‡å‘½åç¬”è®°
- `DELETE /api/notes/:filePath` - åˆ é™¤ç¬”è®°

#### æ–‡ä»¶å¤¹ç®¡ç†
- `POST /api/folders` - åˆ›å»ºæ–‡ä»¶å¤¹
- `DELETE /api/folders` - åˆ é™¤æ–‡ä»¶å¤¹
- `POST /api/folders/rename` - é‡å‘½åæ–‡ä»¶å¤¹

#### æœç´¢
- `GET /api/search?q=keyword` - æœç´¢ç¬”è®°
- `POST /api/search/rebuild` - é‡å»ºæœç´¢ç´¢å¼•

#### æ–‡ä»¶ä¸Šä¼ 
- `POST /api/upload-image` - ä¸Šä¼ å›¾ç‰‡
- `GET /api/resource/:fileName` - è·å–èµ„æºæ–‡ä»¶
- `GET /api/proxy-image?url=xxx` - ä»£ç†å¤–éƒ¨å›¾ç‰‡

## ğŸ”§ é…ç½®

### ç¯å¢ƒå˜é‡

```bash
# æœåŠ¡å™¨é…ç½®
PORT=3001                    # æœåŠ¡å™¨ç«¯å£
HOST=localhost               # æœåŠ¡å™¨ä¸»æœº

# å¼€å‘é…ç½®
VITE_PORT=5173              # å‰ç«¯å¼€å‘ç«¯å£
VITE_HOST=localhost         # å‰ç«¯å¼€å‘ä¸»æœº
VITE_OPEN=false             # æ˜¯å¦è‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨

# API é…ç½®
VITE_API_BASE_URL=/api      # API åŸºç¡€è·¯å¾„
```

### è‡ªå®šä¹‰é…ç½®

æ‰€æœ‰é…ç½®é¡¹éƒ½é›†ä¸­åœ¨ `src/config/` ç›®å½•ä¸­ï¼š

- `constants.ts` - åº”ç”¨å¸¸é‡
- `server.ts` - æœåŠ¡å™¨é…ç½®
- `vite.ts` - æ„å»ºé…ç½®
- `development.ts` - å¼€å‘ç¯å¢ƒé…ç½®

## ğŸ“ æ•°æ®å­˜å‚¨

### ç¬”è®°æ–‡ä»¶æ ¼å¼

ç¬”è®°ä»¥ JSON æ ¼å¼å­˜å‚¨åœ¨ `workspace/` ç›®å½•ä¸­ï¼š

```json
[
  {
    "id": "block-uuid",
    "type": "paragraph",
    "props": {},
    "content": [
      {
        "type": "text",
        "text": "Hello, World!"
      }
    ],
    "children": []
  }
]
```

### æ–‡ä»¶ç»“æ„

```
workspace/
â”œâ”€â”€ .resources/
â”‚   â””â”€â”€ images/             # ä¸Šä¼ çš„å›¾ç‰‡
â”œâ”€â”€ folder1/
â”‚   â”œâ”€â”€ note1.json
â”‚   â””â”€â”€ note2.json
â”œâ”€â”€ folder2/
â”‚   â””â”€â”€ subfolder/
â”‚       â””â”€â”€ note3.json
â””â”€â”€ root-note.json
```

## ğŸ¤ è´¡çŒ®

æ¬¢è¿è´¡çŒ®ä»£ç ï¼è¯·éµå¾ªä»¥ä¸‹æ­¥éª¤ï¼š

1. Fork é¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. æ‰“å¼€ Pull Request

### ä»£ç è§„èŒƒ

- ä½¿ç”¨ TypeScript è¿›è¡Œç±»å‹å®‰å…¨å¼€å‘
- éµå¾ª ESLint è§„åˆ™
- ç¼–å†™æ¸…æ™°çš„æ³¨é‡Š
- ä¿æŒä»£ç æ ¼å¼ä¸€è‡´

## ğŸ“ æ›´æ–°æ—¥å¿—

### v0.1.0 (2024-01-XX)
- âœ¨ åˆå§‹ç‰ˆæœ¬å‘å¸ƒ
- ğŸ“ åŸºç¡€ç¬”è®°ç¼–è¾‘åŠŸèƒ½
- ğŸ“ æ–‡ä»¶å¤¹ç®¡ç†
- ğŸ” æœç´¢åŠŸèƒ½
- ğŸ“¤ å¯¼å…¥å¯¼å‡ºåŠŸèƒ½

## ğŸ› é—®é¢˜åé¦ˆ

å¦‚æœæ‚¨é‡åˆ°ä»»ä½•é—®é¢˜æˆ–æœ‰åŠŸèƒ½å»ºè®®ï¼Œè¯·åœ¨ [GitHub Issues](https://github.com/your-username/one-note-blacknote/issues) ä¸­æäº¤ã€‚

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…ã€‚

## ğŸ™ è‡´è°¢

- [BlockNote](https://www.blocknotejs.org/) - å¼ºå¤§çš„å¯Œæ–‡æœ¬ç¼–è¾‘å™¨
- [Shiki](https://shiki.style/) - è¯­æ³•é«˜äº®å¼•æ“
- [React](https://reactjs.org/) - ç”¨æˆ·ç•Œé¢æ¡†æ¶
- [Express](https://expressjs.com/) - Web åº”ç”¨æ¡†æ¶

---

**OneNote BlackNote** - è®©ç¬”è®°ç®¡ç†å˜å¾—ç®€å•é«˜æ•ˆ ğŸ“šâœ¨